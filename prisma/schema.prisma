generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model Trade {
  id              String   @id @default(cuid())
  orderId         String   @unique
  symbol          String
  side            String   // BUY or SELL
  origQty         Float    // 原始数量
  executedQty     Float    // 执行数量
  price           Float    // 价格
  status          String   // 订单状态
  time            DateTime // 交易时间
  updateTime      DateTime // 更新时间
  quoteQty        Float    // 交易金额(USDT)
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  @@index([time])
  @@index([status])
  @@index([side])
}

model AlphaStats {
  id            String   @id @default(cuid())
  date          DateTime @unique // 日期
  totalBuyQty   Float    // 当日总买入量
  alphaPoints   Float    // Alpha积分 (买入量 * 2)
  tradeCount    Int      // 交易笔数
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  @@index([date])
} 